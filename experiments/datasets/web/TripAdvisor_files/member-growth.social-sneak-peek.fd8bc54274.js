define("member-growth.social-sneak-peek",["@ta/common.media","@ta/common.overlays","@ta/common.styleguide","@ta/common.global"],function(e,t,n,o){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/components/dist/",n(n.s="./roots/member-growth/social-sneak-peek/SocialSneakPeek.jsx")}({"./node_modules/js-cookie/src/js.cookie.js":function(e,t,n){var o,r;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(a){if(void 0===(r="function"==typeof(o=a)?o.call(t,n,t,e):o)||(e.exports=r),!0,e.exports=a(),!!0){var i=window.Cookies,c=window.Cookies=a();c.noConflict=function(){return window.Cookies=i,c}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}return function t(n){function o(t,r,a){var i;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(a=e({path:"/"},o.defaults,a)).expires){var c=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*a.expires),a.expires=c}a.expires=a.expires?a.expires.toUTCString():"";try{i=JSON.stringify(r),/^[\{\[]/.test(i)&&(r=i)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var s="";for(var l in a)a[l]&&(s+="; "+l,!0!==a[l]&&(s+="="+a[l]));return document.cookie=t+"="+r+s}t||(i={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<u.length;f++){var p=u[f].split("="),m=p.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var g=p[0].replace(d,decodeURIComponent);if(m=n.read?n.read(m,g):n(m,g)||m.replace(d,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(e){}if(t===g){i=m;break}t||(i[g]=m)}catch(e){}}return i}}return o.set=o,o.get=function(e){return o.call(o,e)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(t,n){o(t,"",e(n,{expires:-1}))},o.withConverter=t,o}(function(){})})},"./node_modules/react/index.js":function(e,t,n){e.exports=n("dll-reference @ta/common.global")("./node_modules/react/index.js")},"./packages/common/api/api.jsx":function(e,t,n){e.exports=n("dll-reference @ta/common.global")("./packages/common/api/api.jsx")},"./packages/common/classnames/classnames.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(){for(var e=[],t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var i=function(t){var a=n[t];if(a){var i=void 0===a?"undefined":o(a);"string"===i||"number"===i?e.push(a):Array.isArray(a)?e.push(r.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a))):"object"===i&&Object.keys(a).filter(function(e){return a[e]}).forEach(function(t){return e.push(t)})}},c=0;c<n.length;c++)i(c);return e.join(" ")}function a(e,t,n){var o=e.split(" ").filter(function(e){return e!==t});return n&&o.push(n),o}},"./packages/common/decode/decode.jsx":function(e,t,n){"use strict";t.a=function(e){if(!window.atob||null==e)return e;try{var t=window.atob(e);return t.substring(4,t.length-4)}catch(t){return e}}},"./packages/common/i18n/i18n.jsx":function(e,t,n){e.exports=n("dll-reference @ta/common.global")("./packages/common/i18n/i18n.jsx")},"./packages/common/is-visible/is-visible.jsx":function(e,t,n){e.exports=n("dll-reference @ta/common.global")("./packages/common/is-visible/is-visible.jsx")},"./packages/common/localstorage/localstorage.jsx":function(e,t,n){"use strict";var o=function(e){return function(){try{return e.apply(void 0,arguments)}catch(e){return null}}},r=function(){return window&&window.localStorage?window.localStorage:null},a=o(function(e){var t=r();t&&t.removeItem(e)}),i=o(function(e){var t=r();if(!t)return null;var n=JSON.parse(t.getItem(e)||"0");return n?n.ttl&&n.ttl+n.now<(new Date).getTime()?(a(e),null):n.value:null}),c=o(function(e,t,n){var o=r();o&&o.setItem(e,JSON.stringify({ttl:n||0,now:(new Date).getTime(),value:t}))});t.a={get:i,set:c,has:function(e){return!!i(e)},remove:a}},"./packages/common/state/state.jsx":function(e,t,n){e.exports=n("dll-reference @ta/common.global")("./packages/common/state/state.jsx")},"./packages/common/tracking/Track.jsx":function(e,t,n){"use strict";var o=n("./node_modules/react/index.js"),r=n("./packages/common/is-visible/is-visible.jsx"),a=n.n(r),i=n("./packages/common/tracking/tracking.jsx"),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=o=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.state={mountTracked:!1,clickTracked:!1,visibleTracked:!1},l(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),s(t,[{key:"componentDidMount",value:function(){var e=this.props.mount;!e||e.once&&this.state.mountTracked||(Object(i.b)(e),e.once&&this.setState({mountTracked:!0}))}},{key:"render",value:function(){var e=this,t={className:this.props.className},n=this.props,r=n.click,s=n.visible;return!r||r.once&&this.state.clickTracked||(t.onClick=function(t){Object(i.c)(t,r),e.setState({clickTracked:!0})}),!s||s.once&&this.state.visibleTracked?o.createElement(this.props.element,c({},t),this.props.children):o.createElement(a.a,{onChange:function(t){t&&(Object(i.b)(s),s.once&&e.setState({visibleTracked:!0}))}},function(n){return o.createElement(e.props.element,c({},t,{ref:n}),e.props.children)})}}]),t}();u.defaultProps={element:"div",className:void 0},t.a=u},"./packages/common/tracking/tracking.jsx":function(e,t,n){"use strict";var o=n("./packages/common/state/state.jsx"),r=n("./node_modules/js-cookie/src/js.cookie.js"),a=n.n(r),i=n("./packages/common/decode/decode.jsx"),c=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(o=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=void 0,l=void 0,u=void 0,d=function(){s=0,(l=new URLSearchParams).append("batched","true"),u=null},f=function(){fetch("/GARecord",{method:"POST",body:l.toString(),credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"}}),d()};d();n.d(t,"d",function(){return w}),n.d(t,"a",function(){return S}),n.d(t,"c",function(){return j});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m=function(e,t,n){var o=new RegExp("(-"+t+"([0-9]+))|([?&]"+n+"=([0-9]+))").exec(e);if(o){if(void 0!==o[2])return o[2];if(void 0!==o[4])return o[4]}},g=function(e){return m(e,"d","detail")||m(e,"g","geo")},v=function(e){var t=e;return void 0===t||null===t?"":("string"!=typeof t&&(t=t.toString()),t.replace(/!/g,"!!").replace(/\./g,"!.").replace(/\*/g,"!*"))},k=function(e){return Object.keys(e).map(function(t){var n=e[t];return v(t)+"."+v(n)}).join("*")},h=function(e){var t=e.value;t?"number"!=typeof t&&(t=parseFloat(t),Number.isNaN(t)&&(t=0)):t=0;var n=e.nonInteraction;"boolean"!=typeof n&&(n=!0===n);var o=e.srcServlet;if(o)0===o.indexOf("/")&&(o=o.substring(1));else if(!o&&window&&window.location&&window.location.pathname){var r=/\/([^-]*)/.exec(window.location.pathname);o=r?r[1]:null}null===o&&(o=void 0);var a=e.location;a||(a=document&&document.location?g(document.location.href):null),null==a&&(a="null");var i=e.isMemberSignedIn;null!==i&&void 0!==i||(i=!1);var c=e.bookingSessionId;void 0===c&&(c=null);var s=e.context;void 0===s&&(s="undefined");var l={gac:e.module,gaa:e.action,gal:s,gav:String(t),gani:String(n),gass:o,gasl:a,gapu:e.parentUid,gams:i?"1":"0",gacl:e.commerceClickLocation,gatt:e.trackingTree,bsid:e.bookingSessionId};return Object.keys(l).filter(function(e){return void 0===l[e]}).forEach(function(e){return delete l[e]}),l},y=function(e){var t=Object(o.getStore)().getState();return p({srcServlet:t.tracking.analytics?t.tracking.analytics.url:void 0,location:t.page.detailId||t.page.geoId,parentUid:t.tracking.uid?t.tracking.uid:void 0,isMemberSignedIn:t.auth.isMember},e)},b=function(e){var t,n=h(y(e)),o=new URLSearchParams(n);t=o,null!==u&&clearTimeout(u),Array.from(t.entries()).forEach(function(e){var t=c(e,2),n=t[0],o=t[1];l.append("data["+s+"]["+n+"]",o)}),s+=1,u=setTimeout(f,1e3)},w=(t.b=b,function(e,t,n){var r=n;r||(r=Object(o.getStore)().getState().meta.cookieDomain);var a=function(e){var t=h(y(e)),n=void 0,o=void 0,r=e.destinationUrl;e.dstServlet?n=e.dstServlet:r&&(n=function(e){var t=/(https?:\/\/[^/]+)?\/([^#.?-]*)/.exec(e);if(t&&void 0!==t[2])return t[2]?t[2]:"Home"}(r)||void 0,o=g(r)||"");var a=t.gasl;a&&"null"===a&&(a="");var i=p({},t,{gads:n||e.dstServlet,gadl:o,gasl:a});return Object.keys(i).filter(function(e){return void 0===i[e]}).forEach(function(e){return delete i[e]}),i}(e),i=a.gass,c=a.gac,s=void 0===c?"null":c,l=a.gaa,u=void 0===l?"null":l,d=a.gal,f=void 0===d?"null":d;if(!i)throw new Error("Src servlet undefined, gac:"+s+", gaa:"+u+", gal:"+f);if(!a.gads)throw new Error("Dst servlet undefined, gac:"+s+", gaa:"+u+", gal:"+f);var m=new Date;m.setTime(m.getTime()+5e3);var v=encodeURIComponent(k(a))+"; domain="+r+"; path=/; expires="+m.toUTCString();document.cookie="EVT="+v}),S=function(e,t){var n=t;n||(n=Object(o.getStore)().getState().meta.cookieDomain);var r=void 0;try{if((r=a.a.get("MEVT")||"").length>0&&(r+="~"),(r+=k(e)).length>1024)throw new Error("MEVT Cookie is full");var i=new Date;i.setTime(i.getTime()+5e3);var c=encodeURIComponent(r)+"; domain="+n+"; path=/; expires="+i.toUTCString();document.cookie="MEVT="+c}catch(e){return!1}return!0},j=function(e,t){var n=p({},t,{once:void 0,children:void 0}),o=e.target,r=e.currentTarget;if(o&&r&&o instanceof HTMLElement){var a=o;do{if(a instanceof HTMLElement&&a.dataset.encodedUrl){var c=Object(i.a)(a.dataset.encodedUrl),s=document.createElement("a");s.href=c,a.parentElement instanceof HTMLElement&&(s.style.display="none",a.parentElement.appendChild(s)),a=s}if(a instanceof HTMLAnchorElement){var l=a;if(window&&window.location&&window.location.hostname&&window.location.hostname===l.hostname){var u=l.href,d=p({},n,{destinationUrl:u});return void w(d,o)}}a=a.parentElement}while(a&&a!==r)}b(n)}},"./packages/social/common/SocialButton.jsx":function(e,t,n){"use strict";var o=n("./node_modules/react/index.js"),r=n("@ta/common.styleguide"),a=n("./packages/social/common/SocialButton.less"),i=n.n(a),c=o.forwardRef(function(e,t){return o.createElement("span",{className:i.a.social_button,ref:t},o.createElement(r.Button,e))});t.a=c},"./packages/social/common/SocialButton.less":function(e,t,n){e.exports={social_button:"SocialButton__social_button---ZvdG"}},"./roots/member-growth/social-sneak-peek/SocialSneakPeek.jsx":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/react/index.js"),r=n("./packages/common/api/api.jsx"),a=n("./packages/common/classnames/classnames.jsx"),i=n("@ta/common.media"),c=n("./packages/common/i18n/i18n.jsx"),s=n.n(c),l=n("./packages/common/localstorage/localstorage.jsx"),u=n("@ta/common.overlays"),d=n("./packages/common/tracking/Track.jsx"),f=n("./packages/social/common/SocialButton.jsx"),p=n("./roots/member-growth/social-sneak-peek/SocialSneakPeek.less"),m=n.n(p),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();e="social_sneak_peek_home";var v=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onCloseAttempt=function(){t.setState({disabled:!0})},t.openRegOverlay=function(e){return function(n){t.setState({disabled:!0}),window.require("page-model").session.loggedIn||(window.require(["ta/registration/RegOverlay"],function(n){var o="MOBILE"===t.props.viewportCategory;n.showRegOverlay(null,null,o,{flow:"CORE_COMBINED",pid:40462,userRequestedForce:"true",locationId:e})}),n.preventDefault())}},t.state={disabled:!1,ready:!1},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o["Component"]),g(n,[{key:"componentDidMount",value:function(){this.props.data&&null!==this.props.data.url&&null!==this.props.data.mediaId||this.setState({disabled:!0}),this.props.showAlways?(this.setState({ready:!0}),l.a.set("seenSocialSneakPeek",!0)):l.a.get("seenSocialSneakPeek")?this.setState({disabled:!0}):(this.setState({ready:!0}),l.a.set("seenSocialSneakPeek",!0))}},{key:"render",value:function(){var t=this,n=null!=this.props.loggedInUserId,r=(this.props.mcid?this.props.mcid:this.props.page)+" | "+(this.props.loggedInUserId?"logged_in":"logged_out"),c={source:this.props.data.url,height:"100%",width:"100%",preload:"auto",autoplayWhenVisible:!0,trackPlayerEvents:!0,mediaId:this.props.data.mediaId,loop:!1},l=function(){return o.createElement("div",{className:Object(a.a)(m.a.socialSneakPeek,n?m.a.loggedIn:null)},o.createElement("div",{className:m.a.header},o.createElement("div",null,o.createElement(d.a,{visible:{module:e,action:"view",context:r}},s()("media_lander_1"))),o.createElement("div",{className:m.a.title},s()("media_lander_2"))),o.createElement("div",{className:m.a.body},o.createElement("div",{className:m.a.text},s()("media_lander_3"),n?o.createElement("div",null,s()("Teaser_interstitial_3")):o.createElement("div",null,s()("Teaser_interstitial_4_v2"))),n?null:o.createElement("div",{className:m.a.cta},o.createElement(d.a,{click:{module:e,action:"click",context:r}},o.createElement(f.a,{type:"primary",size:"fullwidth",onClick:t.openRegOverlay(t.props.geoId)},s()("Teaser_interstitial_CTA"))))),o.createElement("div",{className:m.a.video},o.createElement(i.VideoPlayer,c)))};if(!this.state.ready||this.state.disabled)return null;if("MOBILE"===this.props.viewportCategory)return o.createElement("div",null," ",l()," ");var p={name:"social-sneak-peek",isFullBleed:!0,onClose:this.onCloseAttempt};return o.createElement(o.Fragment,null,o.createElement(u.Opener,{name:"social-sneak-peek"},function(e){return e(),null}),o.createElement(u.Modal,p,l()))}}]),n}();t.default=Object(r.bind)(function(e,t){var n=t("/data/1.0/social-onboarding/sneakPeekVideo");return function(){return{data:n.get().data,loggedInUserId:e.auth.loggedInUserId,viewportCategory:e.meta.device.viewportCategory,geoId:e.route.geo,mcid:e.route.mcid?e.route.mcid:null,page:e.route.page,showAlways:!!e.route.sneakPeek}}})(v)},"./roots/member-growth/social-sneak-peek/SocialSneakPeek.less":function(e,t,n){e.exports={socialSneakPeek:"SocialSneakPeek__socialSneakPeek--2n5Qf",loggedIn:"SocialSneakPeek__loggedIn--1LoUq",header:"SocialSneakPeek__header--GqQgJ",title:"SocialSneakPeek__title--3sax9",video:"SocialSneakPeek__video--Pt6qq",body:"SocialSneakPeek__body--1GnIt",text:"SocialSneakPeek__text--iIUKG",cta:"SocialSneakPeek__cta--3qfRY"}},"@ta/common.media":function(t,n){t.exports=e},"@ta/common.overlays":function(e,n){e.exports=t},"@ta/common.styleguide":function(e,t){e.exports=n},"dll-reference @ta/common.global":function(e,t){e.exports=o}})});